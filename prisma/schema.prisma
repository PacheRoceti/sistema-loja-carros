generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model CarImage {
  id        Int      @id @default(autoincrement())
  imageUrl  String   @map("image_url")
  isCover   Boolean  @default(false) @map("is_cover")
  createdAt DateTime @default(now()) @map("created_at")

  carId Int @map("car_id")
  car   Car @relation(fields: [carId], references: [id], onDelete: Cascade)

  @@map("car_images")
}

model Car {
  id          Int      @id @default(autoincrement())
  name        String
  brand       String
  model       String
  year        Int
  price       Decimal
  km          Int
  color       String?
  fuel        Fuel
  description String?
  isSold      Boolean  @default(false) @map("is_sold")
  isFeatured  Boolean  @default(false) @map("is_featured")
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  images CarImage[]

  @@map("cars")
}

model DealershipInfo {
  id            Int     @id @default(autoincrement())
  name          String?
  description   String?
  address       String?
  whatsapp      String?
  email         String?
  phone         String?
  googleMapsUrl String? @map("google_maps_url")

  @@map("dealership_info")
}

model User {
  id        Int      @id @default(autoincrement())
  name      String
  email     String   @unique
  password  String
  role      String   @default("admin")
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("users")
}

enum Fuel {
  Gasolina
  Flex
  Diesel
  Eletrico @map("Elétrico")
  Hibrido  @map("Híbrido")
}
